import{r as n,j as r,A as E}from"./react-vendor-D5lQAN7H.js";import{g as t}from"./index-BzEnwQyO.js";import"./vendor-7OC5HNn7.js";const H="_tile_1ead4_1",I="_rounded_1ead4_16",A="_video_1ead4_20",C="_overlay_1ead4_33",F="_overlayHidden_1ead4_54",d={tile:H,rounded:I,video:A,overlay:C,overlayHidden:F},w=({className:a="",videoSrc:g,posterSrc:o,title:m,rounded:V=!0,previewTime:b=.6})=>{const f=n.useRef(null),c=n.useRef(null),l=n.useRef(!1),[u,v]=n.useState(!1),[p,y]=n.useState(!1),[N,P]=n.useState("9 / 16"),k=e=>!e||!Number.isFinite(e.duration)||e.duration<=0?0:Math.min(b,Math.max(e.duration-.15,0)),_=e=>{if(!e||e.readyState<1)return;const s=k(e);Math.abs(e.currentTime-s)>.05&&(e.currentTime=s)},h=()=>{const e=c.current;e&&(e.videoWidth>0&&e.videoHeight>0&&P(`${e.videoWidth} / ${e.videoHeight}`),_(e))},x=e=>{if(!e)return;e.readyState>=1&&(e.currentTime=0),v(!0);const s=e.play();s&&typeof s.catch=="function"&&s.catch(()=>{v(!1)})},S=()=>{y(!0);const e=c.current;if(e){if(e.readyState<1){l.current=!0;return}x(e)}},j=()=>{const e=c.current;e&&(e.pause(),_(e),v(!1),l.current=!1)},L=()=>{l.current&&(l.current=!1,x(c.current))};n.useEffect(()=>{const e=f.current;if(!e||p)return;const s=new IntersectionObserver(M=>{const[$]=M;$?.isIntersecting&&(y(!0),s.disconnect())},{rootMargin:"300px 0px"});return s.observe(e),()=>s.disconnect()},[p]),n.useEffect(()=>{const e=c.current;if(!e)return;const s=()=>{u||e.pause()};return e.addEventListener("seeked",s),()=>{e.removeEventListener("seeked",s)}},[u]);const R=V?d.rounded:"";return r.jsxs("article",{ref:f,className:`${d.tile} ${R} ${a}`.trim(),onMouseEnter:S,onMouseLeave:j,onFocus:S,onBlur:j,tabIndex:0,"aria-label":m,style:{"--tile-ratio":N},children:[r.jsx("video",{ref:c,className:d.video,src:p?g:void 0,poster:o,onLoadedMetadata:h,onLoadedData:h,onCanPlay:L,muted:!0,loop:!0,playsInline:!0,preload:p?"metadata":"none","aria-label":m}),r.jsx("div",{className:`${d.overlay} ${u?d.overlayHidden:""}`.trim(),"aria-hidden":u,children:r.jsx("span",{children:m})})]})},U="_section_1upx0_1",W="_container_1upx0_8",z="_head_1upx0_16",B="_hint_1upx0_48",D="_layout_1upx0_76",G="_featured_1upx0_89",O="_featuredVideo_1upx0_93",q="_grid_1upx0_99",J="_sideVideo_1upx0_107",K="_instagramLink_1upx0_121",i={section:U,container:W,head:z,hint:B,layout:D,featured:G,featuredVideo:O,grid:q,sideVideo:J,instagramLink:K},T=[{id:"g2",videoSrc:t("gallery/g2.mp4"),posterSrc:t("gallery/g2-poster.jpg"),title:"Корги такие милые!",previewTime:5.5},{id:"corgi",videoSrc:t("gallery/g1.mp4"),posterSrc:t("gallery/g1-poster.jpg"),title:"Непоседа самоед и его коготки",previewTime:7},{id:"g3",videoSrc:t("gallery/g3.mp4"),posterSrc:t("gallery/g3-poster.jpg"),title:"Почему он такой красивый?",previewTime:2.6},{id:"g4",videoSrc:t("gallery/g4.mp4"),posterSrc:t("gallery/g4-poster.jpg"),title:"Он доволен, честно",previewTime:.9},{id:"g5",videoSrc:t("gallery/g5.mp4"),posterSrc:t("gallery/g5-poster.jpg"),title:"Французский интеллигент",previewTime:1.3},{id:"g6",videoSrc:t("gallery/g6.mp4"),posterSrc:t("gallery/g6-poster.jpg"),title:'Мистер "Мне пофиг"',previewTime:1.5},{id:"g7",videoSrc:t("gallery/g7.mp4"),posterSrc:t("gallery/g7-poster.jpg"),title:"Это не игрушка. Он настоящий!",previewTime:3}],Z=()=>{const a=T[0],g=T.slice(1,7);return r.jsx("section",{className:i.section,id:"gallery",children:r.jsxs("div",{className:i.container,children:[r.jsxs("header",{className:i.head,children:[r.jsx("p",{children:"ГАЛЕРЕЯ"}),r.jsx("h2",{children:"Атмосфера Pet Club"}),r.jsx("span",{children:"Взгляните на наших счастливых гостей и интерьеры салона"}),r.jsx("strong",{className:i.hint,children:"Наведите на карточку, чтобы посмотреть видео"})]}),r.jsxs("div",{className:i.layout,children:[a?r.jsx("div",{className:i.featured,children:r.jsx(w,{videoSrc:a.videoSrc,posterSrc:a.posterSrc,title:a.title,previewTime:a.previewTime,className:i.featuredVideo},a.id)}):null,r.jsx("div",{className:i.grid,children:g.map(o=>r.jsx(w,{videoSrc:o.videoSrc,posterSrc:o.posterSrc,title:o.title,previewTime:o.previewTime,className:i.sideVideo},o.id))})]}),r.jsxs("a",{className:i.instagramLink,href:"https://www.instagram.com/petclub_spa/",target:"_blank",rel:"noreferrer",children:["Другие видео можете посмотреть в нашем Instagramm ",r.jsx(E,{size:14})]})]})})};export{Z as GallerySection};
